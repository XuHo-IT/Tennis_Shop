@model IEnumerable<BussinessObject.Product>

@{
    ViewData["Title"] = "Home Page";
}

<section id="billboard" class="bg-light py-3">
    <div class="container">
        <div class="row justify-content-center">
            <h1 class="section-title text-center mt-3 mb-2" data-aos="fade-up">Tennis Equipment Collection</h1>
            <div class="col-md-6 text-center mb-3" data-aos="fade-up" data-aos-delay="300">
                <p>Discover premium tennis equipment and accessories for players of all levels. From professional rackets to comfortable tennis shoes, we have everything you need to elevate your game.</p>
            </div>
        </div>
        <div class="row">
            <div class="swiper main-swiper py-2" data-aos="fade-up" data-aos-delay="600">
                <div class="swiper-wrapper d-flex border-animation-left">
                    @if (Model.Any())
                    {
                        @foreach (var product in Model.Take(6))
                        {
                            <div class="swiper-slide">
                                <div class="banner-item">
                                    <div class="image-holder image-zoom-effect overflow-hidden hero-image-container">
                                        <a asp-controller="Product" asp-action="Details" asp-route-id="@product.Id">
                                            @if (product.ProductImages.Any())
                                            {
                                                <img src="@product.ProductImages.First().ImageUrl" alt="@product.Name" class="img-fluid" style="width: 100%; height: 400px; object-fit: cover;">
                                            }
                                            else
                                            {
                                                <img src="~/images/img@((product.Id % 7) + 1).jpg" alt="@product.Name" class="img-fluid" style="width: 100%; height: 400px; object-fit: cover;">
                                            }
                                        </a>
                                    </div>
                                    <div class="banner-content py-4">
                                        <h5 class="element-title text-uppercase">
                                            <a asp-controller="Product" asp-action="Details" asp-route-id="@product.Id" class="item-anchor">@product.Name</a>
                                        </h5>
                                        <p>@(product.Description?.Length > 100 ? product.Description.Substring(0, 100) + "..." : product.Description)</p>
                                        <div class="btn-left">
                                            <a asp-controller="Product" asp-action="Details" asp-route-id="@product.Id" class="btn-link fs-6 text-uppercase item-anchor text-decoration-none">Discover Now</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        }
                    }
                    else
                    {
                        <!-- Sample Slide 1 -->
                        <div class="swiper-slide">
                            <div class="banner-item">
                                <div class="image-holder image-zoom-effect overflow-hidden hero-image-container">
                                    <a href="#">
                                        <img src="~/images/img1.jpg" alt="Tennis Racket" class="img-fluid" style="width: 100%; height: 400px; object-fit: cover;">
                                    </a>
                                </div>
                                <div class="banner-content py-4">
                                    <h5 class="element-title text-uppercase">
                                        <a href="#" class="item-anchor">Premium Tennis Rackets</a>
                                    </h5>
                                    <p>Professional quality tennis rackets for all skill levels.</p>
                                    <div class="btn-left">
                                        <a href="#" class="btn-link fs-6 text-uppercase item-anchor text-decoration-none">Discover Now</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Sample Slide 2 -->
                        <div class="swiper-slide">
                            <div class="banner-item">
                                <div class="image-holder image-zoom-effect overflow-hidden hero-image-container">
                                    <a href="#">
                                        <img src="~/images/img2.jpg" alt="Tennis Shoes" class="img-fluid">
                                    </a>
                                </div>
                                <div class="banner-content py-4">
                                    <h5 class="element-title text-uppercase">
                                        <a href="#" class="item-anchor">Tennis Shoes Collection</a>
                                    </h5>
                                    <p>Comfortable and durable tennis shoes for maximum performance.</p>
                                    <div class="btn-left">
                                        <a href="#" class="btn-link fs-6 text-uppercase item-anchor text-decoration-none">Discover Now</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Sample Slide 3 -->
                        <div class="swiper-slide">
                            <div class="banner-item">
                                <div class="image-holder image-zoom-effect overflow-hidden hero-image-container">
                                    <a href="#">
                                        <img src="~/images/img3.jpg" alt="Tennis Accessories" class="img-fluid" style="width: 100%; height: 400px; object-fit: cover;">
                                    </a>
                                </div>
                                <div class="banner-content py-4">
                                    <h5 class="element-title text-uppercase">
                                        <a href="#" class="item-anchor">Tennis Accessories</a>
                                    </h5>
                                    <p>Complete your tennis kit with our premium accessories.</p>
                                    <div class="btn-left">
                                        <a href="#" class="btn-link fs-6 text-uppercase item-anchor text-decoration-none">Discover Now</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Sample Slide 4 -->
                        <div class="swiper-slide">
                            <div class="banner-item">
                                <div class="image-holder image-zoom-effect overflow-hidden hero-image-container">
                                    <a href="#">
                                        <img src="~/images/img4.jpg" alt="Tennis Bags" class="img-fluid" style="width: 100%; height: 400px; object-fit: cover;">
                                    </a>
                                </div>
                                <div class="banner-content py-4">
                                    <h5 class="element-title text-uppercase">
                                        <a href="#" class="item-anchor">Tennis Bags</a>
                                    </h5>
                                    <p>Spacious and stylish bags to carry all your tennis gear.</p>
                                    <div class="btn-left">
                                        <a href="#" class="btn-link fs-6 text-uppercase item-anchor text-decoration-none">Discover Now</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Sample Slide 5 -->
                        <div class="swiper-slide">
                            <div class="banner-item">
                                <div class="image-holder image-zoom-effect overflow-hidden hero-image-container">
                                    <a href="#">
                                        <img src="~/images/img5.jpg" alt="Tennis Apparel" class="img-fluid" style="width: 100%; height: 400px; object-fit: cover;">
                                    </a>
                                </div>
                                <div class="banner-content py-4">
                                    <h5 class="element-title text-uppercase">
                                        <a href="#" class="item-anchor">Tennis Apparel</a>
                                    </h5>
                                    <p>High-quality tennis clothing for comfort and style on court.</p>
                                    <div class="btn-left">
                                        <a href="#" class="btn-link fs-6 text-uppercase item-anchor text-decoration-none">Discover Now</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- Sample Slide 6 -->
                        <div class="swiper-slide">
                            <div class="banner-item">
                                <div class="image-holder image-zoom-effect overflow-hidden hero-image-container">
                                    <a href="#">
                                        <img src="~/images/img6.jpg" alt="Tennis Balls" class="img-fluid" style="width: 100%; height: 400px; object-fit: cover;">
                                    </a>
                                </div>
                                <div class="banner-content py-4">
                                    <h5 class="element-title text-uppercase">
                                        <a href="#" class="item-anchor">Premium Tennis Balls</a>
                                    </h5>
                                    <p>Professional grade tennis balls for consistent play.</p>
                                    <div class="btn-left">
                                        <a href="#" class="btn-link fs-6 text-uppercase item-anchor text-decoration-none">Discover Now</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                </div>
                <div class="swiper-pagination"></div>
            </div>
        </div>
    </div>
</section>

<section class="features py-5">
    <div class="container">
        <div class="row">
            <div class="col-md-3 text-center" data-aos="fade-in" data-aos-delay="0">
                <div class="py-5">
                    <svg width="38" height="38" viewBox="0 0 24 24">
                        <use xlink:href="#cart"></use>
                    </svg>
                    <h4 class="element-title text-capitalize my-3">Free Shipping</h4>
                    <p>Free shipping on all orders over $50. Fast and secure delivery to your door.</p>
                </div>
            </div>
            <div class="col-md-3 text-center" data-aos="fade-in" data-aos-delay="300">
                <div class="py-5">
                    <svg width="38" height="38" viewBox="0 0 24 24">
                        <use xlink:href="#gift"></use>
                    </svg>
                    <h4 class="element-title text-capitalize my-3">Premium Quality</h4>
                    <p>Only the best tennis equipment from trusted brands and manufacturers.</p>
                </div>
            </div>
            <div class="col-md-3 text-center" data-aos="fade-in" data-aos-delay="600">
                <div class="py-5">
                    <svg width="38" height="38" viewBox="0 0 24 24">
                        <use xlink:href="#heart"></use>
                    </svg>
                    <h4 class="element-title text-capitalize my-3">Expert Support</h4>
                    <p>Get expert advice from our tennis professionals to find the perfect equipment.</p>
                </div>
            </div>
            <div class="col-md-3 text-center" data-aos="fade-in" data-aos-delay="900">
                <div class="py-5">
                    <svg width="38" height="38" viewBox="0 0 24 24">
                        <use xlink:href="#arrow-cycle"></use>
                    </svg>
                    <h4 class="element-title text-capitalize my-3">Easy Returns</h4>
                    <p>30-day return policy. Easy returns and exchanges on all tennis equipment.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="categories overflow-hidden">
    <div class="container">
        <div class="open-up" data-aos="zoom-out">
            <div class="row">
                @if (ViewBag.Categories != null)
                {
                    var categories = ViewBag.Categories as IEnumerable<BussinessObject.ProductCategory>;
                    var categoryList = new List<BussinessObject.ProductCategory>();
                    if (categories != null)
                    {
                        categoryList = categories.ToList();
                    }
                    var imageIndex = 1;
                    var maxCategories = Math.Min(3, categoryList.Count);
                    
                    @for (int i = 0; i < maxCategories; i++)
                    {
                        var category = categoryList[i];
                        <div class="col-md-4">
                            <div class="cat-item image-zoom-effect">
                                <div class="image-holder">
                                    <a asp-controller="Product" asp-action="Index" asp-route-categoryId="@category.Id">
                                        <img src="~/images/cat-item@(imageIndex).jpg" alt="@category.Name" class="product-image img-fluid">
                                    </a>
                                </div>
                                <div class="category-content">
                                    <div class="product-button">
                                        <a asp-controller="Product" asp-action="Index" asp-route-categoryId="@category.Id" class="btn btn-common text-uppercase">Shop @category.Name</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        imageIndex++;
                    }
                }
                else
                {
                    <!-- Fallback categories if no categories exist -->
                    <div class="col-md-4">
                        <div class="cat-item image-zoom-effect">
                            <div class="image-holder">
                                <a asp-controller="Product" asp-action="Index">
                                    <img src="~/images/cat-item1.jpg" alt="Tennis Rackets" class="product-image img-fluid">
                                </a>
                            </div>
                            <div class="category-content">
                                <div class="product-button">
                                    <a asp-controller="Product" asp-action="Index" class="btn btn-common text-uppercase">Shop Tennis Rackets</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="cat-item image-zoom-effect">
                            <div class="image-holder">
                                <a asp-controller="Product" asp-action="Index">
                                    <img src="~/images/cat-item2.jpg" alt="Tennis Shoes" class="product-image img-fluid">
                                </a>
                            </div>
                            <div class="category-content">
                                <div class="product-button">
                                    <a asp-controller="Product" asp-action="Index" class="btn btn-common text-uppercase">Shop Tennis Shoes</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="cat-item image-zoom-effect">
                            <div class="image-holder">
                                <a asp-controller="Product" asp-action="Index">
                                    <img src="~/images/cat-item3.jpg" alt="Tennis Accessories" class="product-image img-fluid">
                                </a>
                            </div>
                            <div class="category-content">
                                <div class="product-button">
                                    <a asp-controller="Product" asp-action="Index" class="btn btn-common text-uppercase">Shop Sport Shirts</a>
                                </div>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
</section>

<section id="new-arrival" class="new-arrival product-carousel py-5 position-relative overflow-hidden">
    <div class="container">
        <div class="d-flex flex-wrap justify-content-between align-items-center mt-5 mb-3">
            <h4 class="text-uppercase">Our Featured Products</h4>
            <a asp-controller="Product" asp-action="Index" class="btn-link">View All Products</a>
        </div>
        <div class="swiper product-swiper open-up" data-aos="zoom-out">
            <div class="swiper-wrapper d-flex">
                @if (Model.Any())
                {
                    @foreach (var product in Model.Take(8))
                    {
                        <div class="swiper-slide">
                            <div class="product-item link-effect">
                                <div class="image-holder position-relative image-zoom-effect overflow-hidden">
                                    <a asp-controller="Product" asp-action="Details" asp-route-id="@product.Id">
                                        @if (product.ProductImages.Any())
                                        {
                                            <img src="@product.ProductImages.First().ImageUrl" alt="@product.Name" class="product-image img-fluid" style="width: 100%; height: 300px; object-fit: cover;">
                                        }
                                        else
                                        {
                                            <img src="~/images/img@((product.Id % 7) + 1).jpg" alt="@product.Name" class="product-image img-fluid" style="width: 100%; height: 300px; object-fit: cover;">
                                        }
                                    </a>
                                </div>
                                <div class="product-content mt-3">
                                    <h5 class="element-title text-uppercase fs-5">
                                        <a asp-controller="Product" asp-action="Details" asp-route-id="@product.Id">@product.Name</a>
                                    </h5>
                                    <a href="#" class="text-decoration-none" data-after="Add to cart"><span>$@product.BasePrice.ToString("F2")</span></a>
                                </div>
                            </div>
                        </div>
                    }
                }
                else
                {
                    <!-- Sample Product 1 -->
                    <div class="swiper-slide">
                        <div class="product-item link-effect">
                            <div class="image-holder position-relative image-zoom-effect overflow-hidden">
                                <a href="#">
                                    <img src="~/images/img1.jpg" alt="Tennis Racket" class="product-image img-fluid" style="width: 100%; height: 300px; object-fit: cover;">
                                </a>
                            </div>
                            <div class="product-content mt-3">
                                <h5 class="element-title text-uppercase fs-5">
                                    <a href="#">Professional Tennis Racket</a>
                                </h5>
                                <a href="#" class="text-decoration-none" data-after="Add to cart"><span>$199.00</span></a>
                            </div>
                        </div>
                    </div>
                    <!-- Sample Product 2 -->
                    <div class="swiper-slide">
                        <div class="product-item link-effect">
                            <div class="image-holder position-relative image-zoom-effect overflow-hidden">
                                <a href="#">
                                    <img src="~/images/img2.jpg" alt="Tennis Shoes" class="product-image img-fluid" style="width: 100%; height: 300px; object-fit: cover;">
                                </a>
                            </div>
                            <div class="product-content mt-3">
                                <h5 class="element-title text-uppercase fs-5">
                                    <a href="#">Tennis Court Shoes</a>
                                </h5>
                                <a href="#" class="text-decoration-none" data-after="Add to cart"><span>$149.00</span></a>
                            </div>
                        </div>
                    </div>
                    <!-- Sample Product 3 -->
                    <div class="swiper-slide">
                        <div class="product-item link-effect">
                            <div class="image-holder position-relative image-zoom-effect overflow-hidden">
                                <a href="#">
                                    <img src="~/images/img3.jpg" alt="Tennis Bag" class="product-image img-fluid" style="width: 100%; height: 300px; object-fit: cover;">
                                </a>
                            </div>
                            <div class="product-content mt-3">
                                <h5 class="element-title text-uppercase fs-5">
                                    <a href="#">Tennis Bag Pro</a>
                                </h5>
                                <a href="#" class="text-decoration-none" data-after="Add to cart"><span>$89.00</span></a>
                            </div>
                        </div>
                    </div>
                    <!-- Sample Product 4 -->
                    <div class="swiper-slide">
                        <div class="product-item link-effect">
                            <div class="image-holder position-relative image-zoom-effect overflow-hidden">
                                <a href="#">
                                    <img src="~/images/img4.jpg" alt="Tennis Balls" class="product-image img-fluid" style="width: 100%; height: 300px; object-fit: cover;">
                                </a>
                            </div>
                            <div class="product-content mt-3">
                                <h5 class="element-title text-uppercase fs-5">
                                    <a href="#">Premium Tennis Balls</a>
                                </h5>
                                <a href="#" class="text-decoration-none" data-after="Add to cart"><span>$24.99</span></a>
                            </div>
                        </div>
                    </div>
                    <!-- Sample Product 5 -->
                    <div class="swiper-slide">
                        <div class="product-item link-effect">
                            <div class="image-holder position-relative image-zoom-effect overflow-hidden">
                                <a href="#">
                                    <img src="~/images/img5.jpg" alt="Tennis Apparel" class="product-image img-fluid" style="width: 100%; height: 300px; object-fit: cover;">
                                </a>
                            </div>
                            <div class="product-content mt-3">
                                <h5 class="element-title text-uppercase fs-5">
                                    <a href="#">Tennis Polo Shirt</a>
                                </h5>
                                <a href="#" class="text-decoration-none" data-after="Add to cart"><span>$59.00</span></a>
                            </div>
                        </div>
                    </div>
                    <!-- Sample Product 6 -->
                    <div class="swiper-slide">
                        <div class="product-item link-effect">
                            <div class="image-holder position-relative image-zoom-effect overflow-hidden">
                                <a href="#">
                                    <img src="~/images/img6.jpg" alt="Tennis Grip" class="product-image img-fluid" style="width: 100%; height: 300px; object-fit: cover;">
                                </a>
                            </div>
                            <div class="product-content mt-3">
                                <h5 class="element-title text-uppercase fs-5">
                                    <a href="#">Pro Grip Overgrip</a>
                                </h5>
                                <a href="#" class="text-decoration-none" data-after="Add to cart"><span>$12.99</span></a>
                            </div>
                        </div>
                    </div>
                    <!-- Sample Product 7 -->
                    <div class="swiper-slide">
                        <div class="product-item link-effect">
                            <div class="image-holder position-relative image-zoom-effect overflow-hidden">
                                <a href="#">
                                    <img src="~/images/img7.jpg" alt="Tennis Strings" class="product-image img-fluid" style="width: 100%; height: 300px; object-fit: cover;">
                                </a>
                            </div>
                            <div class="product-content mt-3">
                                <h5 class="element-title text-uppercase fs-5">
                                    <a href="#">Professional Strings</a>
                                </h5>
                                <a href="#" class="text-decoration-none" data-after="Add to cart"><span>$34.99</span></a>
                            </div>
                        </div>
                    </div>
                    <!-- Sample Product 8 -->
                    <div class="swiper-slide">
                        <div class="product-item link-effect">
                            <div class="image-holder position-relative image-zoom-effect overflow-hidden">
                                <a href="#">
                                    <img src="~/images/img1.jpg" alt="Tennis Cap" class="product-image img-fluid">
                                </a>
                            </div>
                            <div class="product-content mt-3">
                                <h5 class="element-title text-uppercase fs-5">
                                    <a href="#">Tennis Sport Cap</a>
                                </h5>
                                <a href="#" class="text-decoration-none" data-after="Add to cart"><span>$29.99</span></a>
                            </div>
                        </div>
                    </div>
                }
            </div>
            <div class="swiper-pagination"></div>
        </div>
</div>
</section>



@if (ViewBag.BlogPosts != null)
{
    <section class="blog py-5">
        <div class="container">
            <div class="d-flex flex-wrap justify-content-between align-items-center mt-5 mb-4">
                <h4 class="text-uppercase">Tennis Blog & News</h4>
                <a asp-controller="Blog" asp-action="Index" class="btn-link">View All Posts</a>
            </div>
            <div class="row g-4">
                @{
                    var blogPosts = ViewBag.BlogPosts as IEnumerable<BussinessObject.BlogPost>;
                    var postList = new List<BussinessObject.BlogPost>();
                    if (blogPosts != null)
                    {
                        postList = blogPosts.Take(3).ToList();
                    }
                }
                @if (postList.Any())
                {
                    @foreach (var post in postList)
                    {
                        <div class="col-md-4">
                            <article class="post-item">
                                <div class="card border-0 shadow-sm h-100">
                                    <div class="post-image position-relative">
                                        <a asp-controller="Blog" asp-action="Details" asp-route-id="@post.Id">
                                            <img src="@Url.Content(post.ImageUrl)" alt="@post.Title" class="card-img-top" style="height: 250px; object-fit: cover;">
                                        </a>
                                        <div class="position-absolute top-0 start-0 m-3">
                                            <span class="badge bg-primary">@post.Category</span>
                                        </div>
                                    </div>
                                    <div class="card-body d-flex flex-column">
                                        <div class="post-meta text-uppercase fs-6 text-secondary mb-2">
                                            <span class="post-category">@post.Category</span>
                                            <span class="meta-day"> • @post.CreatedAt?.ToString("MMM dd, yyyy")</span>
                                        </div>
                                        <h5 class="post-title text-uppercase mb-3">
                                            <a asp-controller="Blog" asp-action="Details" asp-route-id="@post.Id" class="text-decoration-none text-dark">
                                                @post.Title
                                            </a>
                                        </h5>
                                        <p class="text-muted mb-3 flex-grow-1">@post.Excerpt</p>
                                        <div class="d-flex justify-content-between align-items-center mb-3">
                                            <small class="text-muted">
                                                <i class="fas fa-user me-1"></i>@post.Author
                                            </small>
                                            <small class="text-muted">
                                                <i class="fas fa-eye me-1"></i>@(post.Views ?? 0) views
                                            </small>
                                        </div>
                                        <a asp-controller="Blog" asp-action="Details" asp-route-id="@post.Id" class="btn btn-outline-dark text-uppercase">
                                            Read More <i class="fas fa-arrow-right ms-2"></i>
                                        </a>
                                    </div>
                                </div>
                            </article>
                        </div>
                    }
                }
            </div>
        </div>
    </section>
}